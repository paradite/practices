/**
 * @param {string} word
 * @return {number}
 */
var wonderfulSubstrings = function (word) {
  let mask = 0;
  let maskCount = Array(1024).fill(0);
  maskCount[0] = 1;
  let total = 0;
  for (let i = 0; i < word.length; i++) {
    const c = word[i];
    mask ^= 1 << (c.charCodeAt(0) - 97);
    total += maskCount[mask];
    for (let j = 0; j < 10; j++) {
      total += maskCount[mask ^ (1 << j)];
    }
    maskCount[mask] += 1;
  }
  return total;
};

// console.log(wonderfulSubstrings('aba'));
console.log(wonderfulSubstrings('aabb'));
//          11 10 01 00  Even Odd  Total
// 1  init  0   0  0  1
// 2  a            X      0    1    1
// 3  MU    0   0  1  1
// 4  aa              X   1    1    2
// 5  MU    0   0  1  2
// 6  aab       X         0    2    2
// 7  MU    0   1  1  2
// 8  aabb            X   2    2    4
// 9  final 0   1  1  3   3    6    9
// console.log(wonderfulSubstrings('he'));
// console.log(
//   wonderfulSubstrings(
//     'ihgchcaeaiedbhcihjaifihfjhgafiejbbjhiiaajcejbibdcghhcichdbcccbadegeihhbjfhfgggajiafabceedjdaejhagabjdifehjfichjgedegcaajajdbaccjhdaaccgajchgegffigjaicadfgfahicjjcajjafahehhfecffjjjdgaagfagfaefcegjighbbacjedcjcjhefdihddjbiaidjejgfhbbacefdcgibabihhfeeaaahhchigafafacgigbjdghjejceehacigfghecjichbcajiacefciiffdddhifgbeeiffhbfbggaaibeajjicfiebeddhacffhhgeagbgececcbddfcjacdjeeabcabcijeaicahgijgcaeicfjhfahjajjbceiddifagjecbefgfcghhhdicdiefdjdfhgdihabfcdbcfgajghhhjdbgcabaigigbadfbabhhjhdbdegicahbgedaeefjacjeaegbgaicdbbjgjiiiaefabjchafcdeibdfehbcgbheaagfhfdbiagjjegdajgidifahfbdaiaifhgegefbbjiaghgdiaejiibdagdhifcghgfihegbaacffgaedeihdcajacgjhejdedaagjggjjiaedcfchbbiaeeibajdjfaciibdbeghbbgfjeifbfbjciefgdfjahbacaejaibcfbccbgebajcegcfaigfibddhjijbihcaaafdagjfbbfcijfdgiebghaahdaehbjdggfbidhehaicfadfbfgafjabgabfabaeddbfajhjijajcjbeeefehgcfdijhifcgiaejgcagijjibceahggibadghacdiabaedidgfjaggjgghbgidbfgafghadjejediibdgjdidefbbiaecjeicehihicdaaiahjibeiehdfidbhbhfaihhgfdccejgheifbjdbfgcjbidiffgdjijgghffibcbaaihefhigdfhgjeghfcjedgdicjchcjggbfijejfbdaaicefdeaejfcfjjaebhehidgfhiagieieihbbijhdeaidjgecgbcebeafdhaiecfgajcbafiiccfjjjhjfghihcgaahibdffabgbaciaijgccbgibdadjeehbabfjffcfheccchdejcfcdefdjagiidghggahfddjiaiddfdijeejjfabdacibafgiedddajcgeeafbhajhhbjcechgbijehdcfbaedjcbbceijiaiecjjjddegjfeidabiheeaaechfjdjficeadjdegihegfafhgbjdheabhadfagfhfjjdcjgdghijeggiifedjchadfcaccbgjfehifehjahiccedcfdbdfbbfiafaeijjhheeeigcbibgabbgiagaffdjjbfbbhbgffbcjciebdigghhfjebfacgbhfbgjggabcahecjcfjhbccjdhjhbbfiegfgbfggbbjjgadggibhegbcechdgbdjgicgebcagcfdhdabjefebfhciicedaghdfjcagdcigihdjhahgbidhgjaegfbcggdhigfjgbifjagddfaibgaejfgicidfcdihdcaajhheiabiacdhbaihabdbfbgacjaeaghiabijjdccddfbdiijeffiaaffbgjgjegbfbiecifacihbibhbfegaefhedegffdgdfdcgiadfhbaebjgiiehebbifgbhfehbfgagjfjacidehfcjbccbchhieciaceaicedehiejidjaggefjfbaigaahefdbhbdbigfhdefgeidcgjddhggfcdbfhabcijchbfedjdfjaijffbiefjbdadjcaggeghaacijjgiiicihcbhfafhbadjadigaidadjghijigaegjgaeffdbbiaffghjihcgebdhgdhghjiiadejgghfgddgdefaaifghjajbdjfjefeadadadccedjjdchbjgcjifbhihdhbaihigijbijhbhfjgffjhbdehjjifcjhcacjjcjfghdibifjgcfhadiifieaciaejjdieadichbiiajcfgaeibfiiiibhhfhecfbebbhhicegabcjjgbhiacbhehgjfdaihgigabffhfbdaibgehiibjjfdijfhcgbcbjafdjddccgiiiadcdjjjaaccdighghgdebejbihicgbegcijcegchhdfijffdadbcjdigfbjgeiageddhcgefbdbahjjcfbcejedfgbcgiafaedgbiheifigahbicejhhcbcfcddadeihhchceigidfcagdjfgcbccgcabbibjeaceibfcjiafaajjdecibefgfhcgeedeibiacjgfgbiecbdifecgjajeicbiffdijcfjhgdbfaegdicigdajeebjdaidjeiagffdiijdgbabfcebjadacihjafbgaiaafgdgcihbegchibhhijgjccefgggigddfihjjdijhieceijjcgiibeihgbjeagdfdchhedjjdcfbbeicfdggfediiiaaejjjcagiiejcgijfbjfahgefffegcaccabcegdihighiffhcijcaigiheebjiggbhhbijcdjgdefcdjjicbahgiihijdejhjdbjfgdaafahcigfjjdbahhjicbgfjfcfeaihcfcecggefbggbagbjiadhdejagedhbajdhbdbebcfcfchdefabjcfdjhbgbidfghgdhajibjcchdbcafcahdieigfefebdajddbefbdghbcieeehfeifdbagfiaicbeghiafbgacegajjadbiedfjiijbeeagdaedfijicbjbhbffjgcbebjbjffdgddjjfeeaheheegbjihgfddcicbadaaehhgcjcfhidiedddjbabdcjdhbdjcciehdibdiijdihdicebiaeddjadaegdgehebdigchajeddiaiiahdiajffhdffjddaghacacacaicbaeebjgcecededfccabeegfbfbceajccjgdbedbehcedchjcjfdgiacjdbghefiehidcfbdehhcdgjbcibbahhiehhcfibgehjghbbgdhaedhfciejabcjbfihedcehfjcgdghcecbbggaecbeicdjiebgccjhfcdihjdgbigjdffdecahagichbfchfdgajegcaedjbjidaaheicfidhjbhbgehjbgcjabfegbgegbbccjjdiahhjejeabfjegbhjiafcgijhgiicgdadejcjfjheejhefaaahifdafaiebcjfecgbcibjbghdbidfhaafcbeicibdheahfjhbfdhfggebfaeeiaccbdhdbecfhfaigjjiihchccgbghcdfaiffachhejceiheadagiihfgiaffbfdecbjfjjfecfcicidhjijeeggcjdefjbbiieagjbffggiggafijdcjeeibghegciihafjjcgdcecefjccfgbigehhdicejceahechabfheffbhajgdceibbjaccehhjjjaacbdaadadhajahghhdbihdfjeeehbcfegaggdbeggbaidefiibbdfhffcccbhighhbbccfijaffdacdfcahbaeeghddedbdchgddjhigbggejdejjbchecbcfbcacfhdfbghcahefecfgfffdccdeeeajiaajiechgbaibbffdcgfiejehigbabafeadgbdjcgbhfiihcfdcidcbcffacaihjefcifdbcijabjfbhgbiiafiibfgbfdcgghideaedfccjijifficaegdcbcdebhfbgeigbegjdhjehabieajdjfdibfccaffadajbadheabbjgehafeeejehahbbehffbdcgefebffihbhdfbgiaibceeedhdjfhhbiebhhhccccjihiijgfifjhfifacjdahdaiiicehibfbgeabefjdeeiebhbchdiaihdejfbgbgjijjgcbafibiahhdeddfhfifbfchdbfhhdhcjhajabjgajibbefehfachecejfceeejiieddgieiaijidjjjjihhcejedfaahfghibbhfegbghciijeehigbedccdjeghafgdajehbifdiihcfidfgjebfcgfdeiahheifbgbfjcfijhgijdbhjhifhhghfecafhebabgfgdbdfdgddgfeejceaejbgaejihcjihggbgccgebjdagjjbiefjccechefebghdechiecaiifibjgbeffehddgcjdggcbjebdaicbcadefebbgebicdhghhcfhidhcejhcbgachdhibggidajceghhfichdicddhabdhjigagbhdghbigdiijfiiaieeegegibbejjabfcifjbbecibbeibdicadfbbcjaiiajejbjdgibbgeffhecgfhfgahichijdhbbeiajdcjeajgbeccdhegcedbdbcebfcabfgheiaiehgegidgbahbgabddbhiijdecdhhdcgjbhgiegafjgghcjcafdieecffbiifiedciaffcjgfbecdafbhcajbafabgjbgcajfifchdbhbicbifcbghgjcjhjfifjadchjcifhbihgcfiaeaiegcdddjgceheifefcabaeiaaiibiabdabjiaejchhahgdbacgiahfbbcggciefgjfdahfcgfcaahigddcdddjfebhjbicffgdgjgehfbahcebffbcdehjjceccejbceejfgajjjhagiaicfdhcijchjfdbebjicgdhehigdcebgfigdhibhjgegfhijgjjajgbejijajaaaejcaafjffdjejihggcheegcjaihgcagjjihcjeccdhgaccedbajejifihehjababcigaehaibaaiejgdheieiebafifejicjgbjdhcgdibadceijahdedhiaeafbbhddahbdfhcgefcicghdhjifhgfbifcedaheefjdejhggdbdgacjgibfabigiajjcaceafjiadicbbcgjhehbhcehcbdiaeijdgifhaghggdfcibjhicciijaeiffgbbjabddfjaedahafeehjhifdedgjjafbjaadihcbjfhjgjhgbdfdeciieibecjdfcbejfadccjdafbffhcabbcfeadadeegjihjgijgeihdejeeedjhcffihadiiagfiijejdbbgghebfdhacjhjjdbaieibbidjhjchhcgedfjcjcjedeajchcebfccagfeeiafhccfjaeibghhgacheacghhihgahagidgahibdhgdafbiegbjhjabeibhjeejhchhaacffhabbbebibaejajieibbfhjfieheibahhehfjjadeieecihibchcgbcehfjbfhhgiibdhhjfgahiiebaihhciiifbcejbidjjiebfjjahbafbaeiajgbjecgiigecfejjahecjgiegdhcjijbbfdjhjbigfedgbijebcghaaiffihaffcabefddfhjgghchchdfffcbaijefeggahficiggjhebffeeiccbfcdeefdfijgagfgaahbfjjabcgdhcjfaijcggcgfecccfbhbihaifiedhbdcaiadgfeeeggcefbadifibfaeabfdecfhchccbeabjifbccafcjbghfdjbciacfjbidhfccjghdcefeaehcbeebjhdefibgijadbbghiddahjgdcjhhcebbbfiibfeaeibjaaiaigegeedfdefhdeagabjgdjfbicejjaaibejbbffbfgbjgjdjeajadffgbeedafdihfhdgcgbccjfijdiffihcggcbhbjggabagijhifdedgcacdfhbjbhjgejhgiijcjjebbjciaabeaiadhajbbddagggijcjadijfcdadibebjhicfdffjcbifegccgbadedfefhegfeadeiiddiagbiedajdgbbiidieghjhbbbieacjcafgigaecihbchciiaagigjadbffbeahjcbfbhgdcbfjbjicigeacajfhgeigiebdhjdiehbbfghbaifgaeceifjaedjaibjbhihidjddigbjcigdhejiiifgafhhgcdciceihbbifibghddejdahijijchfdcebjajjbiajjfbjfcgjbeidfeegibieceahdbahdiaaehcdgdbigbdcdfecbigjifjaegcgjhegfgjcihdgijjfjfghdbffhdibehjdcjcfbejfffagjacaiigjabahbgeggieediibfdbjhdgbheaaaicidffahdfbhicicgdfiibijdigcfaigbddabibgacjffgbacgjaibghaehfegaejhffbffjejfihgdjjjdifgjgefhdadddhhabdgddhhgdificjbehjigjdijhijfgbaeefgfgbffidcbfiahfficjihahegabhdaahbaecjajgddcjiaajfahaicidbicefbiedachaaijebcjafeaafffhcjaehhigbaehdahiafidaghhijjacbbbcaeaefddhhddegabdfdahjjhjdjfhbjjeiicaeadheedggcjegjaabhcbdcebjfhaijijjacbefdfcfdihgiebijbiecdeghibbgfighbcebdaijgiajiaiefdjejidcihifjhfdgbfibfhbccgihcbcifdjheghbigggeeefgjgcchaiijgcijibiebddidaehedfbbegfdbbjedeaihcggafafhdhijjbaebcchbbjgfdadeahifjejibbhicgeiaeggbegjfejcfggggdafieijfbicbfeiadafdgedcfdiaihhggahfgiidagahecjgeidhgdghiagcadcjbgjiedaedjgjhdcfcahedbccajcdjiccdcajibbehfidaabijehdcicbiicejebigjijaiagffcadfiijdhbijachaigaaehcijebabjahaiibfiijaaihahjfjifjfihdffdehbjchejdacdbcdccfccgcjfafdefedigeebdeghecjaajedehfhaefaffibdcgbfihjifdccahbeacciehacddeaadbcgiggjggaibecidgdgejachhghdihccgccedjfcjaedhehijfbbifjedggadfhiefefbedccjeahccifhhgbaccecedibhbddgfbbbaefecgdjddhdfdhdbgdbeddedieajbjcdfecegiijfecfjcgichjbagecchfcbighhefdedcggeedcdbbjbabhegbffcgegcdebdbebhibccdjbgjbadhjdgcaejdcbdedjjjhjfjddgchcbidhieeeeaiegcbafbajahifcicjibacafjhifbihgjafheffbfbefafagiacgbgdgcdfccchdbggcjechagdehbedbbifegabdgejccabhiijjgiedfighafgbjaagebbbjgdafjcebcjefiighgjbifcjddhgdbjibehhacefbhabebahadbidcfabiihbjjjegfeaacffggdijhjdhghgaddggfbfeihhddjjiefbbdfiebaacgbegdcjbdjjffacdaehfdbfdahejadfecidafbiefjejbageafgijeeafjaebaiejgjifbchgfeebabegcjgfeicjjejjdfedggiahaiecjidebhdejijbjhjijajacdihhebegahijifhggidbgbijdajaeaeeedhcibcjcajfhccdjedcdibfccdbcciiehchiffhhacfbjhjbdidecjjeadafbfiffgbejddghfehafjfebhabagjdfidggiidcieeijhdjfadbaigejaajeehjabfcaeicebfjhbccgdgddcegdjgdeiifdjbcfgfbjfccbdfhadgeihcdbccifcibbjdffdaibeffehajdhieihideaffeaiffjbcgefjficifeffiaegghfigeafhcaahja'
//   )
// );
