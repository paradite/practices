/**
 * @param {string[]} names
 * @return {string[]}
 */
var getFolderNames = function (names) {
  const map = {};
  const ans = [];
  for (let i = 0; i < names.length; i++) {
    // console.log('getFolderNames -> map', map);
    const name = names[i];
    const pattern = /(\(\d+\))$/;
    const result = name.match(pattern);
    if (result) {
      // console.log('getFolderNames -> result', result);
      const left = name.slice(0, result.index);
      const right = eval(name.slice(result.index));
      if (right !== 0) {
        // console.log('getFolderNames -> left', left);
        // console.log('getFolderNames -> right', right);
        if (map[left]) {
          if (map[left][right]) {
            // map[left][right + 1] = true;
            // ans.push(`${left}(${right + 1})`);
          } else {
            map[left][right] = true;
            // ans.push(`${left}(${right})`);
          }
        } else {
          map[left] = [];
          map[left][right] = true;
        }
      }
      if (map[name]) {
        for (let i = 0; ; i++) {
          if (!map[name][i]) {
            map[name][i] = true;
            if (!map[`${name}(${i})`]) {
              map[`${name}(${i})`] = [true];
            } else {
              map[`${name}(${i})`][0] = true;
            }
            if (i === 0) {
              ans.push(`${name}`);
            } else {
              ans.push(`${name}(${i})`);
            }
            break;
          }
        }
      } else {
        map[name] = [true];
        ans.push(name);
      }
    } else {
      if (map[name]) {
        for (let i = 0; ; i++) {
          if (!map[name][i]) {
            map[name][i] = true;
            if (i === 0) {
              ans.push(`${name}`);
            } else {
              if (!map[`${name}(${i})`]) {
                map[`${name}(${i})`] = [true];
              } else {
                map[`${name}(${i})`][0] = true;
              }
              ans.push(`${name}(${i})`);
            }
            break;
          }
        }
      } else {
        map[name] = [true];
        ans.push(name);
      }
    }
  }
  // console.log('getFolderNames -> map', map);
  // console.log('getFolderNames -> map', map['r(2)']);
  // console.log('ans', JSON.stringify(ans));
  return ans;
};

console.log(
  getFolderNames(['pes', 'fifa', 'gta', 'pes(2019)', 'pes(2019)(1)'])
);
console.log(
  getFolderNames(['kaido', 'kaido(1)', 'kaido', 'kaido(1)', 'kaido(2)'])
);
console.log(getFolderNames(['kingston(0)', 'kingston', 'kingston']));
// prettier-ignore
console.log(getFolderNames(["b(4)(3)","d(1)","k","z(1)(4)","u","s(1)(2)","q(1)(4)","z(1)","r","b(3)(4)","x","e","r(1)","t","e","z(2)","d","n(1)","o","o","t(1)","l","p","a","w","j(3)","w","c(3)","q","v","u"]));
// prettier-ignore
console.log(getFolderNames(["d(2)(4)","n","y","q(3)","q(3)","p(2)","o","k(4)","x(1)","m(1)","a(2)","z","p(2)(3)","d","g","t","n","z(3)","a","d(2)","b","t","m","r(1)(2)","k","c","p(2)(1)","c","l(1)","l","b","u","o","h(2)","p(3)(3)","d","o","c","c","v","a","g","j","m","g(4)","h","b(2)","r(3)","e","b(1)","f(4)","i","m","r","m","w(3)(4)","p","a","g","b","s","r","b(1)","f","k","q","p"]));
// prettier-ignore
console.log(getFolderNames(["q(4)","v","m","o(4)","d","b(3)","a","o(2)","q","s(2)(1)","p","s(1)","s","a","a","y(4)(3)","f","u(4)","a","j","u","m(3)","h","o","r","a(2)(2)","o(1)","k(4)","r","p","s","a","q","f","g(4)","d","p","q","z","g","t(1)(3)","h","n(4)","g(3)","t","k","d","j","j","t(2)(2)","d","q","r(4)","i","i","i(4)(3)","l(4)(4)","w","g","i(4)(4)","w(3)","z","r","h","d","h","z","s(2)","n","p(3)(3)","j","y","w(3)(3)","y","y(3)(1)","l","c(1)(3)","b(3)","p(3)","n","l","m(4)","n","b(3)(3)","x(3)(2)","m","k","v(2)(2)","h(2)","q","n(4)(4)","f","b","o","h","n","d(2)","d","d(1)(4)","n(2)","n","n","a","m","k","d(3)","b(2)(3)","s","j","x(4)","k","c","e(2)","y(4)(1)","u","g","v","l","f(4)(1)","e","r","j","g","o(3)(2)","w","u(3)","h(4)(2)","w(4)(1)","f(2)","j","x","t","b","w","y(4)","p","p","o","b","g(4)","o","b(3)","s(2)","o","z(4)","d","v(2)(3)","t","i","l","z","y(2)","y","a(4)(3)","c","a","x","i","d(4)","y","c","u","y(1)(4)","v","k(4)(1)","d","k(2)","p","f(4)(1)","x(2)(2)","j(1)","n(3)","z","m(3)(3)","y(3)","u","h","c","a","v","c","w","d(3)","u","j","w","t","o","r(1)","l","l(2)(2)","a","d(4)","u","k","n","h","p(3)(3)","l(1)(2)","y","z(3)","h","r","g","m(3)","f","u(4)(3)","x","z(3)","x(4)","s","g","q(3)","o","z","x(3)(4)","e(1)","y","h","o(4)(2)","u","y","d","j","n","s(2)","z(1)","v","y","g","r","q","d","w","l(1)(4)","g","j","e(3)(4)","b","m","p","m(2)(4)","b","y","f","t(4)","a","g","a","b(2)","v","k","m","q(1)(3)","t","p(1)(3)","k","g(3)","n","e","f","v(2)(4)","d(2)(3)","a","c","a","x","z","j","j(2)","m","w","f","k","d","f(1)","q","n(3)(4)","m","w","a","b","g","g","g(3)","k","b","k(3)","k","l","s(4)(3)","u","t","l(3)","w(4)","z(4)(3)","v(2)","a","u","s(2)(1)","b","p(1)(2)","g(4)(2)","l","k","e","j(3)(1)","g","r","k(4)","c","w(2)(3)","c(4)","c","w(3)(3)","e","p","k(3)(2)","a(3)(2)","x","u(3)(1)","u(2)(2)","d(1)(1)","r","f","z","l","g(4)","n","u","j","h(1)(1)","u","d","f","w(1)(1)","u(3)(2)","s","e","f(2)(2)","u(3)(2)","k","z","y","w(4)","n","i","n","j(1)(1)","z(3)","d","h(2)","u","b","i","s(2)(3)","v","w","m(1)(2)"]));
// prettier-ignore
// console.log(getFolderNames(["l","p(4)(4)","v","c","i","k(2)","y","a(4)(2)","t","a","e","e(1)(4)","p","p","s","z","s","q(2)(1)","r(1)","m","b(3)","u(2)","j","p","t","s","g","o","o","b(3)(3)","k","w(2)(3)","q","a","z","t(4)(4)","s(2)","c","w","u","h","g","b","r","c(1)","v","n(1)","r(2)(1)","u","t(2)(3)","p","m(3)(1)","h","o","y","n","s","z","k(2)","x(4)","l(1)(4)","g(2)","u","t(2)","m","c","t","g","c","a(2)","r","d","y","b","p","m","w(2)(4)","v","t(4)(2)","x","e(4)(1)","h","f","z","e(1)(4)","t","b(1)","x(4)","m(3)","j(2)(4)","s(3)(2)","z","l","p(2)(2)","g(3)(2)","q(1)(4)","h(1)(1)","h","o(3)","h","f","n(4)","s(4)","g","s","r","n(1)(1)","x(3)","r","f(3)(1)","e","j","s","g","d","l","g","o(4)(3)","x(4)","u(2)(4)","x","t","f","j(1)","v(2)","w","v","t(2)(2)","l","o(1)(1)","a","y","q(4)","m(1)(2)","i","u","l","c(1)","g","l(2)","p(1)(1)","k","d","l","o","m","i(1)","j","i","f","y","b","k","z","n","t","c(2)","y","q","b","t","m","g(1)","r","m","l","s","n","j(4)(4)","m(3)(3)","n","n(2)(3)","s","t","l","e","p","q(2)","v","v","b","w","m","p","g","h(2)","n(1)","q","x(4)","q(2)(4)","s(2)","w","k","f","v","n","q","w","y(3)","a(4)(1)","r(1)","r","f(4)(2)","l","f(2)(3)","p","o","h","t","i","r","k","p","l","o(3)(4)","f(1)","j(4)","f(3)(4)","o(2)(1)","j","k(2)","k","x(4)","s(3)(4)","p(1)(3)","y","r(2)","i(3)(4)","j","p(4)(3)","e","j(4)","g(4)(2)","x","l","x","g","w","o","t(2)(4)","s","f","o","h","h(2)(4)","z(4)(2)","w","l","n","q","w","l","a","o","v","h","b","v","b","k","x(2)","r(2)(1)","g(2)","c(4)(3)","w(1)","g(4)","z","i(3)(2)","r","e","p","z(4)(2)","s","c(1)","h","l","j(3)(4)","x(1)(2)","a","b","t","c"]));
// prettier-ignore
["q(4)","v","m","o(4)","d","b(3)","a","o(2)","q","s(2)(1)","p","s(1)","s","a(1)","a(2)","y(4)(3)","f","u(4)","a(3)","j","u","m(3)","h","o","r","a(2)(2)","o(1)","k(4)","r(1)","p(1)","s(2)","a(4)","q(1)","f(1)","g(4)","d(1)","p(2)","q(2)","z","g","t(1)(3)","h(1)","n(4)","g(3)","t","k","d(2)","j(1)","j(2)","t(2)(2)","d(3)","q(3)","r(4)","i","i(1)","i(4)(3)","l(4)(4)","w","g(1)","i(4)(4)","w(3)","z(1)","r(2)","h(2)","d(4)","h(3)","z(2)","s(2)(2)","n","p(3)(3)","j(3)","y","w(3)(3)","y(1)","y(3)(1)","l","c(1)(3)","b(3)(1)","p(3)","n(1)","l(1)","m(4)","n(2)","b(3)(3)","x(3)(2)","m(1)","k(1)","v(2)(2)","h(2)(1)","q(5)","n(4)(4)","f(2)","b","o(3)","h(4)","n(3)","d(2)(1)","d(5)","d(1)(4)","n(2)(1)","n(5)","n(6)","a(5)","m(2)","k(2)","d(3)(1)","b(2)(3)","s(3)","j(4)","x(4)","k(3)","c","e(2)","y(4)(1)","u(1)","g(2)","v(1)","l(2)","f(4)(1)","e","r(3)","j(5)","g(5)","o(3)(2)","w(1)","u(3)","h(4)(2)","w(4)(1)","f(2)(1)","j(6)","x","t(1)","b(1)","w(2)","y(4)","p(4)","p(5)","o(5)","b(2)","g(4)(1)","o(6)","b(3)(2)","s(2)(3)","o(7)","z(4)","d(6)","v(2)(3)","t(2)","i(2)","l(3)","z(3)","y(2)","y(3)","a(4)(3)","c(1)","a(6)","x(1)","i(3)","d(4)(1)","y(5)","c(2)","u(2)","y(1)(4)","v(2)","k(4)(1)","d(7)","k(2)(1)","p(6)","f(4)(1)(1)","x(2)(2)","j(1)(1)","n(3)(1)","z(5)","m(3)(3)","y(3)(2)","u(5)","h(5)","c(3)","a(7)","v(3)","c(4)","w(4)","d(3)(2)","u(6)","j(7)","w(5)","t(3)","o(8)","r(1)(1)","l(4)","l(2)(2)","a(8)","d(4)(2)","u(7)","k(5)","n(7)","h(6)","p(3)(3)(1)","l(1)(2)","y(6)","z(3)(1)","h(7)","r(5)","g(6)","m(3)(1)","f(3)","u(4)(3)","x(2)","z(3)(2)","x(4)(1)","s(4)","g(7)","q(3)(1)","o(9)","z(6)","x(3)(4)","e(1)","y(7)","h(8)","o(4)(2)","u(8)","y(8)","d(8)","j(8)","n(8)","s(2)(4)","z(1)(1)","v(4)","y(9)","g(8)","r(6)","q(6)","d(9)","w(6)","l(1)(4)","g(9)","j(9)","e(3)(4)","b(4)","m(5)","p(7)","m(2)(4)","b(5)","y(10)","f(4)","t(4)","a(9)","g(10)","a(10)","b(2)(1)","v(5)","k(6)","m(6)","q(1)(3)","t(5)","p(1)(3)","k(7)","g(3)(1)","n(9)","e(3)","f(5)","v(2)(4)","d(2)(3)","a(11)","c(5)","a(12)","x(3)","z(7)","j(10)","j(2)(1)","m(7)","w(7)","f(6)","k(8)","d(10)","f(1)(1)","q(7)","n(3)(4)","m(8)","w(8)","a(13)","b(6)","g(11)","g(12)","g(3)(2)","k(9)","b(7)","k(3)(1)","k(10)","l(5)","s(4)(3)","u(9)","t(6)","l(3)(1)","w(4)(2)","z(4)(3)","v(2)(1)","a(14)","u(10)","s(2)(1)(1)","b(8)","p(1)(2)","g(4)(2)","l(6)","k(11)","e(4)","j(3)(1)","g(13)","r(7)","k(4)(2)","c(6)","w(2)(3)","c(4)(1)","c(7)","w(3)(3)(1)","e(5)","p(8)","k(3)(2)","a(3)(2)","x(5)","u(3)(1)","u(2)(2)","d(1)(1)","r(8)","f(7)","z(8)","l(7)","g(4)(3)","n(10)","u(11)","j(11)","h(1)(1)","u(12)","d(11)","f(8)","w(1)(1)","u(3)(2)","s(5)","e(6)","f(2)(2)","u(3)(2)(1)","k(12)","z(9)","y(11)","w(4)(3)","n(11)","i(4)","n(12)","j(1)(1)","z(3)(3)","d(12)","h(2)(2)","u(13)","b(9)","i(5)","s(2)(3)","v(6)","w(9)","m(1)(2)"]
// prettier-ignore
["q(4)","v","m","o(4)","d","b(3)","a","o(2)","q","s(2)(1)","p","s(1)","s","a(1)","a(2)","y(4)(3)","f","u(4)","a(3)","j","u","m(3)","h","o","r","a(2)(2)","o(1)","k(4)","r(1)","p(1)","s(2)","a(4)","q(1)","f(1)","g(4)","d(1)","p(2)","q(2)","z","g","t(1)(3)","h(1)","n(4)","g(3)","t","k","d(2)","j(1)","j(2)","t(2)(2)","d(3)","q(3)","r(4)","i","i(1)","i(4)(3)","l(4)(4)","w","g(1)","i(4)(4)","w(3)","z(1)","r(2)","h(2)","d(4)","h(3)","z(2)","s(2)(2)","n","p(3)(3)","j(3)","y","w(3)(3)","y(1)","y(3)(1)","l","c(1)(3)","b(3)(1)","p(3)","n(1)","l(1)","m(4)","n(2)","b(3)(3)","x(3)(2)","m(1)","k(1)","v(2)(2)","h(2)(1)","q(5)","n(4)(4)","f(2)","b","o(3)","h(4)","n(3)","d(2)(1)","d(5)","d(1)(4)","n(2)(1)","n(5)","n(6)","a(5)","m(2)","k(2)","d(3)(1)","b(2)(3)","s(3)","j(4)","x(4)","k(3)","c","e(2)","y(4)(1)","u(1)","g(2)","v(1)","l(2)","f(4)(1)","e","r(3)","j(5)","g(5)","o(3)(2)","w(1)","u(3)","h(4)(2)","w(4)(1)","f(2)(1)","j(6)","x","t(1)","b(1)","w(2)","y(4)","p(4)","p(5)","o(5)","b(2)","g(4)(1)","o(6)","b(3)(2)","s(2)(3)","o(7)","z(4)","d(6)","v(2)(3)","t(2)","i(2)","l(3)","z(3)","y(2)","y(3)","a(4)(3)","c(1)","a(6)","x(1)","i(3)","d(4)(1)","y(5)","c(2)","u(2)","y(1)(4)","v(2)","k(4)(1)","d(7)","k(2)(1)","p(6)","f(4)(1)(1)","x(2)(2)","j(1)(1)","n(3)(1)","z(5)","m(3)(3)","y(3)(2)","u(5)","h(5)","c(3)","a(7)","v(3)","c(4)","w(4)","d(3)(2)","u(6)","j(7)","w(5)","t(3)","o(8)","r(1)(1)","l(4)","l(2)(2)","a(8)","d(4)(2)","u(7)","k(5)","n(7)","h(6)","p(3)(3)(1)","l(1)(2)","y(6)","z(3)(1)","h(7)","r(5)","g(6)","m(3)(1)","f(3)","u(4)(3)","x(2)","z(3)(2)","x(4)(1)","s(4)","g(7)","q(3)(1)","o(9)","z(6)","x(3)(4)","e(1)","y(7)","h(8)","o(4)(2)","u(8)","y(8)","d(8)","j(8)","n(8)","s(2)(4)","z(1)(1)","v(4)","y(9)","g(8)","r(6)","q(6)","d(9)","w(6)","l(1)(4)","g(9)","j(9)","e(3)(4)","b(4)","m(5)","p(7)","m(2)(4)","b(5)","y(10)","f(4)","t(4)","a(9)","g(10)","a(10)","b(2)(1)","v(5)","k(6)","m(6)","q(1)(3)","t(5)","p(1)(3)","k(7)","g(3)(1)","n(9)","e(3)","f(5)","v(2)(4)","d(2)(3)","a(11)","c(5)","a(12)","x(3)","z(7)","j(10)","j(2)(1)","m(7)","w(7)","f(6)","k(8)","d(10)","f(1)(1)","q(7)","n(3)(4)","m(8)","w(8)","a(13)","b(6)","g(11)","g(12)","g(3)(2)","k(9)","b(7)","k(3)(1)","k(10)","l(5)","s(4)(3)","u(9)","t(6)","l(3)(1)","w(4)(2)","z(4)(3)","v(2)(1)","a(14)","u(10)","s(2)(1)(1)","b(8)","p(1)(2)","g(4)(2)","l(6)","k(11)","e(4)","j(3)(1)","g(13)","r(7)","k(4)(2)","c(6)","w(2)(3)","c(4)(1)","c(7)","w(3)(3)(1)","e(5)","p(8)","k(3)(2)","a(3)(2)","x(5)","u(3)(1)","u(2)(2)","d(1)(1)","r(8)","f(7)","z(8)","l(7)","g(4)(3)","n(10)","u(11)","j(11)","h(1)(1)","u(12)","d(11)","f(8)","w(1)(1)","u(3)(2)","s(5)","e(6)","f(2)(2)","u(3)(2)(1)","k(12)","z(9)","y(11)","w(4)(3)","n(11)","i(4)","n(12)","j(1)(1)(1)","z(3)(3)","d(12)","h(2)(2)","u(13)","b(9)","i(5)","s(2)(3)(1)","v(6)","w(9)","m(1)(2)"]
